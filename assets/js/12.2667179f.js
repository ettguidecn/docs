(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{337:function(e,t,r){"use strict";r.r(t);var a=r(0),o=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"游戏编译"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#游戏编译"}},[e._v("#")]),e._v(" 游戏编译")]),e._v(" "),r("p",[e._v("注：本教程只介绍新版etterna的编译方式以及windows10 64位环境的编译(试过32位系统好像无法编译成功，其他系统也没有尝试过)，其他环境请参考"),r("a",{attrs:{href:"https://github.com/etternagame/etterna/blob/master/Docs/Building.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Building"),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("h2",{attrs:{id:"工具准备"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#工具准备"}},[e._v("#")]),e._v(" 工具准备")]),e._v(" "),r("p",[e._v("首先需要下载以下的工具:")]),e._v(" "),r("ol",[r("li",[r("a",{attrs:{href:"https://visualstudio.microsoft.com/zh-hans/",target:"_blank",rel:"noopener noreferrer"}},[e._v("visual studio"),r("OutboundLink")],1),e._v("，2017或者2019版都可以，下载community版就够了，安装时安装c++部分模块。")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://cmake.org/download/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cmake"),r("OutboundLink")],1),e._v("，下载最新版即可，安装的时候建议把cmake添加到path。除了cmake也可以使用ninja编译，由于没尝试过就不介绍了。")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://npm.taobao.org/mirrors/git-for-windows/",target:"_blank",rel:"noopener noreferrer"}},[e._v("git"),r("OutboundLink")],1),e._v("，下载最下面的版本即可。")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://slproweb.com/download/Win32OpenSSL-1_1_0L.exe",target:"_blank",rel:"noopener noreferrer"}},[e._v("OPENSSL 32位"),r("OutboundLink")],1),e._v("或者[OPENSSL 64位]，安装到一个方便找的地方，主要用于编译的时候选择编译32位还是64位。")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://www.microsoft.com/en-us/download/details.aspx?id=8109",target:"_blank",rel:"noopener noreferrer"}},[e._v("DIRECTX RUNTIME"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://www.microsoft.com/en-us/download/details.aspx?id=6812",target:"_blank",rel:"noopener noreferrer"}},[e._v("DIRECTX SDK"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://www.microsoft.com/en-us/download/details.aspx?id=48145",target:"_blank",rel:"noopener noreferrer"}},[e._v("Microsoft Visual C++ Redistributables"),r("OutboundLink")],1),e._v("，32位和64位都要安装")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://developer.microsoft.com/en-us/windows/downloads/windows-10-sdk/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Windows 10 Development Kit"),r("OutboundLink")],1),e._v("，安装visual studio的时候，在选择c++的时候勾选了windows10 SDK可以忽略")]),e._v(" "),r("li",[r("a",{attrs:{href:"https://nsis.sourceforge.io/Main_Page",target:"_blank",rel:"noopener noreferrer"}},[e._v("NSIS"),r("OutboundLink")],1),e._v("，主要用于把游戏打包成exe")])]),e._v(" "),r("h2",{attrs:{id:"克隆仓库"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#克隆仓库"}},[e._v("#")]),e._v(" 克隆仓库")]),e._v(" "),r("p",[e._v("假如你安装了git，使用git clone -b develop --depth=1 https://github.com/etternagame/etterna.git命令可以克隆develop分支，如果配置了ssh可以使用git clone -b develop --depth=1 git@github.com:etternagame/etterna.git。可以把develop改成其他分支名。直接下载仓库代码编译还没尝试过，不太推荐。")]),e._v(" "),r("h2",{attrs:{id:"使用cmake-gui编译"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用cmake-gui编译"}},[e._v("#")]),e._v(" 使用cmake GUI编译")]),e._v(" "),r("p",[e._v("首先在克隆好的仓库下面新建一个build文件夹，装在其他位置应该也可以。(命令行的编译参考"),r("a",{attrs:{href:"https://github.com/etternagame/etterna/blob/master/Docs/Building.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Building"),r("OutboundLink")],1),e._v(")")]),e._v(" "),r("p",[e._v("打开cmake，浏览克隆好的仓库的路径和build文件夹的路径，配置OPENSSL路径。")]),e._v(" "),r("img",{attrs:{src:e.$withBase("/zhs/compile1.png"),alt:"compile"}}),e._v(" "),r("p",[e._v("这里OPENSSL根据自己编译的版本选择(32或者64位)，要与下面configure的版本对应\n"),r("img",{attrs:{src:e.$withBase("/zhs/compile2.png"),alt:"compile"}})]),e._v(" "),r("p",[e._v("然后点开configure，其中第一项为你visual studio的版本，15 2017是visual studio 2017，16 2019是visual studio 2019，第二项是你编译游戏是多少位的，要与上面OPENSSL版本对应。")]),e._v(" "),r("img",{attrs:{src:e.$withBase("/zhs/compile3.png"),alt:"compile"}}),e._v(" "),r("p",[e._v("等待configure done之后，点generate。等待generate完成后，点开Open Project打开visual studio，然后点击图标为绿色三角形的 本地Windows 调试器即可开始编译，编译过程非常漫长，速度取决于机器的配置，这个过程配置稍微低一点会非常卡，编译成功的标志是，游戏界面会出来，失败的话，会弹出一个失败的弹窗。")]),e._v(" "),r("h2",{attrs:{id:"打包游戏"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#打包游戏"}},[e._v("#")]),e._v(" 打包游戏")]),e._v(" "),r("p",[e._v("如果上面编译成功了，使用cmd或者powershell或者bash等，定位到你build的目录，或者直接打开那个文件夹，点击左上角的"),r("strong",[e._v("文件(蓝色底)")]),e._v("->打开Windows Powershell(R)->以管理员身份打开Windows Powershell(A)，然后输入"),r("strong",[e._v("CPACK，按回车即可开始打包")]),e._v("，前提是安装NSIS的时候已经添加到环境变量里面。")]),e._v(" "),r("img",{attrs:{src:e.$withBase("/zhs/compile4.png"),alt:"compile"}})])}),[],!1,null,null,null);t.default=o.exports}}]);